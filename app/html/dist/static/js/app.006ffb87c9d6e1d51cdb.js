webpackJsonp([1],{"+slk":function(t,e){},"+zDr":function(t,e){},"02Xv":function(t,e){},"0Hi7":function(t,e){},"0JkL":function(t,e){},"5DGb":function(t,e){},"6i+/":function(t,e){},"6stu":function(t,e){},"7zck":function(t,e){},"8pR9":function(t,e){},"9f6N":function(t,e){},CUQQ:function(t,e){},I0hU:function(t,e){},"KbU+":function(t,e){},KmZ0:function(t,e){},Kupj:function(t,e){},LIAe:function(t,e){},MBfY:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view",{attrs:{name:"nav"}})},staticRenderFns:[]};var s=n("VU/8")({name:"NavBar"},i,!1,function(t){n("lU44")},null,null).exports,r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-tabs",{attrs:{vertical:"",dark:""}},[e("div",{staticClass:"tab-top"},[e("v-tab",{attrs:{replace:!0,to:"/"}},[e("v-icon",{attrs:{left:""}},[this._v("\n          mdi-file-tree\n        ")])],1),this._v(" "),e("v-tab",{attrs:{replace:!0,to:"/settings"}},[e("v-icon",{attrs:{left:""}},[this._v("\n          mdi-settings\n        ")])],1),this._v(" "),e("v-tab",{attrs:{replace:!0,to:"/info"}},[e("v-icon",{attrs:{left:""}},[this._v("\n          mdi-information\n        ")])],1)],1),this._v(" "),e("v-spacer")],1)},staticRenderFns:[]};var o={name:"SiderBar",components:{MainTab:n("VU/8")({name:"MainTab",data:function(){return{}}},r,!1,function(t){n("UQ97")},"data-v-af1b6b0e",null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{attrs:{id:"siderbar-container"}},[e("MainTab")],1)},staticRenderFns:[]};var l=n("VU/8")(o,c,!1,function(t){n("jb+d")},"data-v-f98fc15a",null).exports,u=n("Dd8w"),d=n.n(u),m=n("NYxO"),f={render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{value:this.option.show,text:"",prominent:"",type:"error",icon:"mdi-cloud-alert"}},[this._v("\n  "+this._s(this.option.msg)+"\n")])},staticRenderFns:[]};var v=n("VU/8")({name:"ResponseMsg",props:["option"]},f,!1,function(t){n("hnm5")},"data-v-2754b74e",null).exports,p={name:"AppMain",data:function(){return{}},computed:d()({},Object(m.d)("app",["alertOptions","mainApp"])),methods:d()({},Object(m.b)("app",["initAppModule","destroyAppModule"])),mounted:function(){this.initAppModule()},destroyed:function(){this.destroyAppModule()},components:{RespAlert:v}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",{style:{width:this.mainApp.width+"px",height:this.mainApp.height+"px"},attrs:{id:"main-container"}},[e("RespAlert",{attrs:{option:this.alertOptions}}),this._v(" "),e("v-container",{attrs:{fluid:""}},[e("router-view",{attrs:{name:"main"}})],1)],1)},staticRenderFns:[]};var b={render:function(){var t=this.$createElement;return(this._self._c||t)("v-bottom-navigation",{attrs:{value:this.value,color:"primary",id:"statusbar-container"}})},staticRenderFns:[]};var k={name:"App",components:{SiderBar:l,NavBar:s,AppMain:n("VU/8")(p,h,!1,function(t){n("0JkL")},"data-v-acf7c548",null).exports,StatusBar:n("VU/8")({name:"StatusBar"},b,!1,function(t){n("cOaG")},"data-v-30f95b24",null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("nav-bar"),this._v(" "),e("div",{staticClass:"main-content"},[e("sider-bar"),this._v(" "),e("div",{staticClass:"content-right"},[e("app-main"),this._v(" "),e("status-bar")],1)],1)],1)],1)},staticRenderFns:[]};var x=n("VU/8")(k,g,!1,function(t){n("U6+6")},null,null).exports,w=n("/ocq"),_=n("Xxa5"),T=n.n(_),y=n("fZjL"),C=n.n(y),I=n("exGp"),A=n.n(I),S=n("BO1k"),F=n.n(S);function R(t){var e="blue";return"done"==t?e="green":"ready"==t?e="grey":"error"==t?e="red":"stopped"==t&&(e="deep-orange"),e+=" darken-4"}var O={name:"List",props:["options"],data:function(){return{}},computed:d()({},Object(m.d)("app",["mainApp"]),Object(m.c)("task",["taskRawItems","selectedTasks"]),{items:function(){return this.updateTaskListView(this.taskRawItems)}}),methods:d()({},Object(m.b)("task",["updateTaskItemData","setActiveTaskKey","toggleSelectTask","clearTaskSelect"]),{toggleSelectItem:function(t,e){var n=this;return A()(T.a.mark(function a(){var i,s;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=C()(n.selectedTasks).length,1!=e||0!=i){a.next=5;break}return a.abrupt("return");case 5:if(2!=e||0==i){a.next=7;break}return a.abrupt("return");case 7:return s=document.getElementById("task-"+t),a.next=10,n.toggleSelectTask(t);case 10:if(!a.sent){a.next=14;break}s.classList.add("selected-item"),a.next=15;break;case 14:s.classList.remove("selected-item");case 15:case"end":return a.stop()}},a,n)}))()},updateTaskListView:function(t){var e=this;return t.map(function(t){var n=t.allRoots,a=(0==t.runningRoots.length?C()(n):t.runningRoots).map(function(t){return{indeterminate:null==n[t].percent,ratio:1,percent:n[t].percent,color:R(n[t].status)}}),i=0;return C()(n).map(function(t){"done"==n[t].status&&i++}),0==a.length&&(a=[{indeterminate:!1,ratio:1,percent:0,color:"grey darken-2"}]),{sign:t.sign,title:t.title,url:t.url,avatar:t.name.slice(0,5),progresses:a,percent:t.percent,status:t.status,doneState:i+"/"+C()(n).length,selected:void 0!=e.selectedTasks[t.sign]}})}})},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{tile:""}},[n("v-list",{attrs:{dense:""}},[n("v-virtual-scroll",{attrs:{bench:1,items:t.items,height:t.mainApp.height-16+"px","item-height":"81",multiple:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:a.selected?"pink--text":"white--text"},expression:"{ class: item.selected ? `pink--text` : `white--text` }"}],staticClass:"list-item"},[n("v-list-item",{key:"task-"+a.sign,class:{"selected-item":a.selected},attrs:{id:"task-"+a.sign},on:{dblclick:function(e){return t.toggleSelectItem(a.sign,2)},click:function(e){return t.toggleSelectItem(a.sign,1)}}},[n("v-list-item-content",[n("div",{staticClass:"list-item-title"},[n("v-btn",{attrs:{"x-small":"",color:"secondary",dark:""}},[t._v("\n                        "+t._s(a.doneState)+"\n                      ")]),t._v(" "),n("v-list-item-title",{staticClass:"font-weight-blod",domProps:{textContent:t._s(a.title)}})],1),t._v(" "),n("div",{staticClass:"item-subtitle"},[n("v-list-item-subtitle",{domProps:{textContent:t._s(a.url)}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-list-item-subtitle",{staticClass:"item-speed",domProps:{textContent:t._s(a.speed)}})],1),t._v(" "),n("div",{staticClass:"list-item-progress"},t._l(a.progresses,function(t,e){return n("v-progress-linear",{key:a.sign+"-"+e,style:{flex:t.ratio},attrs:{indeterminate:t.indeterminate,stream:t.stream,value:t.percent,color:t.color,"buffer-value":"100",height:"5"}})}),1)]),t._v(" "),n("v-btn",{attrs:{depressed:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.setActiveTaskKey(a.sign)}}},[n("v-icon",[t._v("\n                     mdi-chevron-right  \n                    ")])],1)],1),t._v(" "),n("v-divider")],1)]}}])})],1)],1)},staticRenderFns:[]};var N={name:"TaskView",props:[],data:function(){return{}},components:{TaskList:n("VU/8")(O,V,!1,function(t){n("gzX3")},"data-v-83ebf67c",null).exports}},E={render:function(){var t=this.$createElement;return(this._self._c||t)("TaskList")},staticRenderFns:[]};var U=n("VU/8")(N,E,!1,function(t){n("yMLD")},"data-v-eb3b4814",null).exports,$=n("Gu7T"),L=n.n($),D=n("bOdI"),j=n.n(D),B=n("mvHQ"),M=n.n(B),z=n("XLwt"),P={name:"FlowChart",props:["options","rootSelect"],data:function(){return{$echarts:null,historyFlowJSON:""}},computed:d()({},Object(m.c)("task",["activeTaskRawItem"]),{chartNode:function(){return this.activeTaskRawItem?this.genTaskFlowNodeData(this.activeTaskRawItem):{}},linksData:function(){var t=this.rootSelect.selected||0;return this.chartNode[t]?this.chartNode[t].links:[]},nodesData:function(){var t=this.rootSelect.selected||0;return this.chartNode[t]?this.chartNode[t].data:[]},chartsOption:function(){return{title:{text:"节点图"},tooltip:{},animationDurationUpdate:1e3,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",symbolSize:50,roam:!0,label:{show:!0},edgeSymbol:["circle","arrow"],edgeSymbolSize:[0,8],edgeLabel:{fontSize:20},data:this.nodesData,links:this.linksData,lineStyle:{opacity:.9,width:2,curveness:0}}]}},updateChartComputed:function(){var t=this.activeTaskRawItem?M()(this.activeTaskRawItem.rawFlows):"[]";this.$echarts&&t!=this.historyFlowJSON&&(this.historyFlowJSON=t,this.$echarts.clear(),this.$echarts.setOption(this.chartsOption))}}),watch:j()({activeTaskRawItem:function(){this.$echarts.resize()},options:{immediate:!0,handler:function(t){this.updateChartForce()}}},"options.height",function(){this.updateChartForce()}),methods:{updateChartForce:function(){var t=this;this.$nextTick(function(){t.$echarts.clear(),t.$echarts.setOption(t.chartsOption),t.$echarts.resize()})},genParallelLink:function(t,e,n,a){var i=[],s=a.x,r=a.y,o=s,c=!0,l=!1,u=void 0;try{for(var d,m=F()(n);!(c=(d=m.next()).done);c=!0){var f=d.value,v=a.val;if(Array.isArray(f)){var p={val:v,x:s,y:r,mX:s,mY:r};i.push.apply(i,L()(this.genSerialLink(t,e,f,p))),r=p.mY,o=Math.max(o,p.mX)}else t.push({source:v,target:f}),i.push(f),e.push({name:f,x:s,y:r});r++}}catch(t){l=!0,u=t}finally{try{!c&&m.return&&m.return()}finally{if(l)throw u}}return n!=[]&&r--,a.mX=o,a.mY=r,i},genSerialLink:function(t,e,n,a){var i=null,s=a.x,r=a.y,o=a.y,c=!0,l=!1,u=void 0;try{for(var d,m=F()(n);!(c=(d=m.next()).done);c=!0){var f=d.value,v=i||a.val;if(Array.isArray(f)){var p={val:v,x:s,y:r,mX:s,mY:r};i=this.genParallelLink(t,e,f,p),s=p.mX,o=Math.max(p.mY,o)}else{if(Array.isArray(v)){var h=!0,b=!1,k=void 0;try{for(var g,x=F()(v);!(h=(g=x.next()).done);h=!0){var w=g.value;t.push({source:w,target:f})}}catch(t){b=!0,k=t}finally{try{!h&&x.return&&x.return()}finally{if(b)throw k}}}else t.push({source:v,target:f});i=[f],e.push({name:f,x:s,y:r})}s+=2}}catch(t){l=!0,u=t}finally{try{!c&&m.return&&m.return()}finally{if(l)throw u}}return n!=[]&&(s-=2),a.mY=o,a.mX=s,i},genTaskFlowNodeData:function(t){var e=t.rawFlows,n={};for(var a in e){var i=[{name:a,x:-2,y:0}],s=[];n[a]={data:i,links:s};var r={val:a,x:0,y:parseInt(a)};this.genParallelLink(s,i,e[a],r)}return n}},mounted:function(){var t=document.getElementById("task-flow-container"),e=z.a(t);this.$echarts=e}},K={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:this.options.height+"px"},attrs:{id:"task-flow-container",updateChart:!this.updateChartComputed}})},staticRenderFns:[]};var X=n("VU/8")(P,K,!1,function(t){n("oEpN")},"data-v-35884ada",null).exports,G=n("7nRM"),W=n.n(G),Y=n("gRE1"),J=n.n(Y),H={name:"NodeTable",props:["options","rootSelect"],data:function(){return{groupItems:{},headers:[{text:"#",value:"index",align:"end"},{text:"Ab",value:"ab"},{text:"A5g",value:"a5g"},{text:"Name",value:"name"},{text:"Percent",value:"percent"},{text:"Speed",value:"speed"},{text:"TimeLeft",value:"timeleft"},{text:"Control",value:"control",align:"end",sortable:!1}]}},computed:d()({},Object(m.c)("task",["activeTaskRawItem"]),{taskNodeItems:function(){if(!this.activeTaskRawItem)return[];var t=this.activeTaskRawItem.allNodes;return this.groupItems={},J()(t).map(function(t,e){var n=t.a5g.split("-"),a=W()(n),i=a[0],s=a[1];a.slice(2);return{index:e,ab:[i,s].join("-"),a5g:t.a5g,name:t.name,percent:t.percent,speed:t.speed,timeleft:null==t.timeleft?"∞":t.timeleft.toFixed(2)+"s",weight:t.weight,color:R(t.status),status:t.status}})}}),methods:d()({},Object(m.b)("task",["selectNodeItem"]),{updateGroupItem:function(t,e){var n=function(t){var e="done",n=!0,a=!1,i=void 0;try{for(var s,r=F()(t);!(n=(s=r.next()).done);n=!0){var o=s.value;if("stopped"==o.status){e="stopped";break}if("running"==o.status){e="running";break}if("error"==o.status){e="error";break}"ready"==o.status&&(e="ready")}}catch(t){a=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw i}}return e}(e);return this.groupItems[t]={name:t,percent:this.getBranchPercent(e),color:R(n)},t},getBranchPercent:function(t){var e=0,n=0,a=!0,i=!1,s=void 0;try{for(var r,o=F()(t);!(a=(r=o.next()).done);a=!0){e+=r.value.weight}}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}var c=!0,l=!1,u=void 0;try{for(var d,m=F()(t);!(c=(d=m.next()).done);c=!0){var f=d.value;if(null==f.percent){n=0;break}n+=f.percent*f.weight/e}}catch(t){l=!0,u=t}finally{try{!c&&m.return&&m.return()}finally{if(l)throw u}}return n}})},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.taskNodeItems,"item-key":"a5g","disable-pagination":"","hide-default-footer":!0,"group-by":"ab","sort-by":"index",loading:"true","fixed-header":"",height:t.options.height},scopedSlots:t._u([{key:"group.header",fn:function(e){var a=e.toggle,i=e.group,s=e.items,r=e.headers,o=e.isOpen;return[n("td",{staticClass:"data-group-header",attrs:{colspan:r.length},on:{click:a}},[n("div",{staticClass:"group-header"},[n("strong",{staticClass:"group-header-title"},[t._v(t._s(t.updateGroupItem(i,s)))]),t._v(" "),n("v-progress-linear",{attrs:{value:t.groupItems[i].percent,color:t.groupItems[i].color,height:"15"}},[n("strong",[t._v(t._s(t.groupItems[i].percent.toFixed(2))+"%")])]),t._v(" "),n("v-btn",{staticClass:"group-collapse-toggle",attrs:{small:"",icon:""}},[n("v-icon",[t._v("\n          "+t._s(o?"mdi-chevron-down":"mdi-chevron-up")+" \n          ")])],1)],1)])]}},{key:"item.percent",fn:function(e){var a=e.item;return[n("v-progress-linear",{attrs:{value:null==a.percent?0:a.percent,indeterminate:null==a.percent,color:a.color,height:"15"}},[n("strong",[t._v(t._s(null==a.percent?"":a.percent.toFixed(2)+"%"))])])]}},{key:"item.control",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{small:"",icon:"",disabled:""}},[n("v-icon",[t._v("\n        mdi-play\n      ")])],1),t._v(" "),n("v-btn",{attrs:{small:"",icon:"",disabled:""}},[n("v-icon",[t._v("\n        mdi-pause\n      ")])],1),t._v(" "),n("v-btn",{attrs:{small:"",icon:""},on:{click:function(e){return t.selectNodeItem(a.a5g)}}},[n("v-icon",[t._v("\n        mdi-information-outline \n      ")])],1)]}}])})},staticRenderFns:[]};var Q=n("VU/8")(H,q,!1,function(t){n("MBfY")},"data-v-bed55be6",null).exports,Z={name:"TaskDetail",props:[],data:function(){return{rootSelect:{selected:null,items:[]}}},computed:d()({},Object(m.c)("task",["activeTaskRawItem","activeTaskNode"]),Object(m.d)("app",["mainApp"]),{taskTableOptions:function(){return{height:this.mainApp.height/2}},taskFlowOptions:function(){return{height:this.mainApp.height/2}}}),methods:d()({},Object(m.b)("task",["selectNodeItem","setActiveTaskKey"])),watch:{activeTaskRawItem:function(t,e){if(!t)return[];this.rootSelect.items=C()(t.allRoots),null==this.rootSelect.selected&&(this.rootSelect.selected=this.rootSelect.items[0])}},components:{FlowChart:X,NodeTable:Q}},tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{floating:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){""==t.activeTaskNode?t.setActiveTaskKey(""):t.selectNodeItem("")}}},[n("v-icon",[t._v("mdi-chevron-left")])],1),t._v(" "),n("v-select",{attrs:{value:t.rootSelect.selected,items:t.rootSelect.items,label:"Root",dense:""}})],1),t._v(" "),n("FlowChart",{attrs:{options:t.taskFlowOptions,rootSelect:t.rootSelect}}),t._v(" "),n("NodeTable",{attrs:{id:"task-table-container",options:t.taskTableOptions,rootSelect:t.rootSelect}})],1)},staticRenderFns:[]};var et=n("VU/8")(Z,tt,!1,function(t){n("CUQQ")},"data-v-8ba11942",null).exports,nt=n("d7EF"),at=n.n(nt),it={name:"NodeData",props:["options"],data:function(){return{cacheField:{},headers:[{text:"Field",value:"field"},{text:"Value",value:"value"}]}},watch:{activeTaskNode:function(){this.cacheField={}}},computed:d()({},Object(m.c)("task",["activeTaskRawItem","activeTaskNode"]),{dataItems:function(){if(!this.activeTaskRawItem||""==this.activeTaskNode)return[];var t=this.activeTaskRawItem.allNodes[this.activeTaskNode].data,e=[];for(var n in t){var a=t[n],i=M()(a),s=null,r=this.cacheField[n]||[],o=at()(r,2),c=o[0],l=o[1];i==c?s=l:(s={field:n,value:a},this.cacheField[n]=[i,s]),e.push(s)}return e}})},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dataItems,"item-key":"field","disable-pagination":"","hide-default-footer":!0,"fixed-header":""},scopedSlots:t._u([{key:"item.value",fn:function(e){var a=e.item;return["object"==typeof a.value&&null!=a.value?n("div",[n("json-viewer",{attrs:{value:t.cacheField[a.field][1].value,"expand-depth":3,copyable:"",theme:"json-viewer-theme"}})],1):n("div",[t._v("\n      "+t._s(a.value)+"\n    ")])]}}])})},staticRenderFns:[]};var rt=n("VU/8")(it,st,!1,function(t){n("PVwW")},"data-v-2c5c1d08",null).exports,ot={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var ct=n("VU/8")({name:"NodeLog"},ot,!1,function(t){n("6stu")},"data-v-750ca7b6",null).exports,lt={name:"TaskData",props:[],data:function(){return{taskDataTab:null}},computed:d()({},Object(m.d)("app",["mainApp"]),{taskDataOptions:function(){return{height:this.mainApp.height}}}),components:{NodeData:rt,NodeLog:ct}},ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-data-panel",style:{height:t.mainApp.height+"px"}},[n("v-tabs",{model:{value:t.taskDataTab,callback:function(e){t.taskDataTab=e},expression:"taskDataTab"}},[n("v-tab",{key:"NodeData"},[t._v("Data")]),t._v(" "),n("v-tab",{key:"NodeLog"},[t._v("Log")])],1),t._v(" "),n("v-tabs-items",{model:{value:t.taskDataTab,callback:function(e){t.taskDataTab=e},expression:"taskDataTab"}},[n("v-tab-item",{key:"NodeData"},[n("NodeData",{attrs:{options:t.taskDataOptions}})],1),t._v(" "),n("v-tab-item",{key:"NodeLog"},[n("NodeLog",{attrs:{options:t.taskDataOptions}})],1)],1)],1)},staticRenderFns:[]};var dt=n("VU/8")(lt,ut,!1,function(t){n("UXKE")},"data-v-a0f053ec",null).exports,mt={name:"TaskPage",props:[],data:function(){return{}},computed:d()({},Object(m.c)("task",["activeTaskNode","activeTaskKey"])),methods:d()({},Object(m.b)("task",["startFetchTaskListTimer","stopFetchTaskListTimer"])),components:{TaskView:U,TaskDetail:et,TaskData:dt},mounted:function(){this.startFetchTaskListTimer()},destroyed:function(){this.stopFetchTaskListTimer()}},ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"task-view-main"},[n("transition",{attrs:{name:"left-in"}},[""==t.activeTaskNode?n("v-col",{attrs:{id:"task-view-left"}},[n("TaskView")],1):t._e()],1),t._v(" "),n("transition",{attrs:{name:"right-in"}},[""!=t.activeTaskKey?n("v-col",{attrs:{id:"task-view-right"}},[n("TaskDetail")],1):t._e()],1),t._v(" "),n("transition",{attrs:{name:"right-in"}},[""!=t.activeTaskNode?n("v-col",{attrs:{id:"task-view-right-expand"}},[n("TaskData")],1):t._e()],1)],1)},staticRenderFns:[]};var vt=n("VU/8")(mt,ft,!1,function(t){n("ZRRn")},"data-v-84de37fa",null).exports;function pt(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})}function ht(t){return JSON.parse(M()(t))}var bt={name:"Tree",props:["items","active"],data:function(){return{}},computed:{activeItem:function(){return console.log(this.active),this.active}},methods:d()({},Object(m.b)("settings",["scrollToConfItem"]),{capitalize:pt})},kt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-auto",attrs:{width:"300"}},[n("v-list",{attrs:{dense:"",outlined:""}},[n("v-list-item-group",{attrs:{value:t.activeItem,"active-class":"tree-item-active"},on:{change:t.scrollToConfItem}},t._l(t.items,function(e){return n("v-list-group",{key:e.name,attrs:{group:e.name,"append-icon":"",value:e.opened},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v(t._s(t.capitalize(e.title)))])]},proxy:!0}],null,!0)},[t._v(" "),t._l(e.groups,function(a){return n("v-list-item",{key:[e.name,a.name].join("|"),attrs:{value:[e.name,a.name].join("|"),"sub-group":""}},[n("v-list-item-content",{staticClass:"tree-group-item"},[n("v-list-item-title",[t._v(t._s(t.capitalize(a.title)))])],1)],1)})],2)}),1)],1)],1)},staticRenderFns:[]};var gt=n("VU/8")(bt,kt,!1,function(t){n("kyqG")},"data-v-753c0d7e",null).exports,xt=n("nvbp"),wt=n.n(xt),_t={render:function(){var t=this.$createElement;return(this._self._c||t)("p",[this._v("66666666666")])},staticRenderFns:[]};var Tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch-item"},[n("v-switch",{attrs:{label:t.item.name,disabled:t.item.disabled},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1)},staticRenderFns:[]};var yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"combobox-item"},[n("v-combobox",{attrs:{label:t.item.name,items:t.item.extra.items,multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.attrs,i=e.item,s=e.parent,r=e.selected;return[n("v-chip",t._b({attrs:{"input-value":r,label:"",small:""}},"v-chip",a,!1),[n("span",{staticClass:"pr-2"},[t._v("\n          "+t._s(i)+"\n        ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(t){return s.selectItem(i)}}},[t._v("\n          close\n        ")])],1)]}}]),model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1)},staticRenderFns:[]};var Ct={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-slider",{attrs:{label:t.item.name,min:t.item.validation.min,max:t.item.validation.max,"thumb-label":"",ticks:""},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})},staticRenderFns:[]};var It={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkbox-item"},[n("v-checkbox",{attrs:{label:t.item.name},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1)},staticRenderFns:[]};var At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-field-item"},[Array.isArray(t.item.value)||"number"!=t.item.validation.type?n("v-text-field",{attrs:{label:t.item.name,outlined:"",clearable:"",disabled:t.item.disabled,dense:""},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}}):n("v-text-field",{attrs:{label:t.item.name,outlined:"",clearable:"",disabled:t.item.disabled,dense:""},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",t._n(e))},expression:"item.value"}})],1)},staticRenderFns:[]};var St={string:"text-field",integer:"text-field",urlparse:"text-field",boolean:"checkbox",float:"text-field",list:"text-field",filesize:"text-field",filerealpath:"text-field"},Ft={name:"FormGroup",props:["conf"],data:function(){return{inViewComp:{}}},components:{Radio:n("VU/8")({name:"Radio",props:["item"],data:function(){}},_t,!1,function(t){n("5DGb")},"data-v-8f301f12",null).exports,Selects:n("VU/8")(null,null,!1,null,null,null).exports,Switches:n("VU/8")({name:"Switches",props:["item"]},Tt,!1,function(t){n("rhKU")},"data-v-18a8dc70",null).exports,Combobox:n("VU/8")({name:"TextField",props:["item"]},yt,!1,function(t){n("meXA")},"data-v-55946826",null).exports,Slider:n("VU/8")({name:"Slider",props:["item"]},Ct,!1,function(t){n("LIAe")},"data-v-2e9ab734",null).exports,Checkbox:n("VU/8")({name:"Checkbox",props:["item"]},It,!1,function(t){n("PC+X")},"data-v-631c03ca",null).exports,Textareas:n("VU/8")(null,null,!1,null,null,null).exports,TextField:n("VU/8")({name:"TextField",props:["item"]},At,!1,function(t){n("+slk")},"data-v-5d1c3112",null).exports},computed:d()({},Object(m.d)("settings",["bindConf"]),Object(m.c)("settings",["diffConf"])),methods:d()({},Object(m.b)("settings",["enterView","leaveView","calMainInView","confRollback"]),{intersect:function(t,e,n){var a=!0,i=!1,s=void 0;try{for(var r,o=F()(t);!(a=(r=o.next()).done);a=!0){var c=r.value.target.id;n?this.enterView(c):this.leaveView(c)}}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}this.calMainInView()}}),watch:{diffConf:function(){}},render:function(t){var e=this;return t("div",{class:"settings-group"},[t("v-col",[this.conf.groups.map(function(n){var a=[{name:"intersect",value:e.intersect}];return t("div",wt()([{class:"group-box",attrs:{id:[e.conf.name,n.name].join("|")}},{directives:a}]),[t("div",{class:"group-title"},[pt(n.title),t("v-btn",{class:"rollback-btn",attrs:{text:!0,icon:!0},on:{click:function(){e.confRollback([e.conf.name,n.name].join("|"))}}},[t("v-icon",["mdi-refresh"])])]),t("div",{class:"group-content"},[n.items.map(function(a){var i={props:{item:a}},s=t(St[a.tag.toLowerCase()]||a.tag,i);return t("v-list-item",{attrs:{id:[e.conf.name,n.name,a.name].join("|")}},[t("v-row",[t("div",{class:"setting-item-box"},[t("div",{class:{"setting-item-status":!0,"item-modified":a.modified}}),t("div",{class:"setting-item-content"},[t("div",{class:"setting-item-title"},[a.title]),t("div",{class:"setting-item-desc"},[a.desc]),s])])])])})])])})])])}};var Rt=n("VU/8")(Ft,null,!1,function(t){n("6i+/")},"data-v-8e5aa440",null).exports,Ot={name:"Configure",props:["items"],data:function(){return{}},computed:d()({},Object(m.d)("settings",["bindConf"])),methods:{},components:{FormGroup:Rt}},Vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"mx-auto"},[e("v-list",{attrs:{id:"setting-conf-list"}},this._l(this.bindConf,function(t,n){return e("div",{key:n},[e("FormGroup",{attrs:{conf:t}})],1)}),0)],1)},staticRenderFns:[]};var Nt=n("VU/8")(Ot,Vt,!1,function(t){n("I0hU")},"data-v-0df8b10d",null).exports,Et={name:"Settings",computed:d()({},Object(m.d)("settings",["inViewItems","activeItemId","bindConf"]),Object(m.c)("settings",["diffConf"]),Object(m.d)("app",["mainApp"])),methods:d()({},Object(m.b)("settings",["setActiveConfItem","calMainInView"])),components:{Tree:gt,Configure:Nt},mounted:function(){var t=document.getElementById("settings-content");t&&t.addEventListener("scroll",this.calMainInView)},destroyed:function(){var t=document.getElementById("settings-content");t&&t.removeEventListener("scroll",this.calMainInView)}},Ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"settings-container"},[e("v-col",{staticClass:"settings-view"},[e("v-row",{staticClass:"settings-tree"},[e("Tree",{attrs:{items:this.bindConf,active:this.activeItemId}})],1),this._v(" "),e("v-row",{style:{height:this.mainApp.height+"px"},attrs:{id:"settings-content"}},[e("Configure")],1)],1)],1)},staticRenderFns:[]};var $t=n("VU/8")(Et,Ut,!1,function(t){n("RzLb")},"data-v-6a42d044",null).exports,Lt={name:"SettingsPage",computed:d()({},Object(m.d)("app",["mainApp"])),methods:d()({},Object(m.b)("settings",["getConf","clearConfData"])),components:{Settings:$t},mounted:function(){var t=this;setTimeout(function(){t.getConf()},200)},destroyed:function(){this.clearConfData()}},Dt={render:function(){var t=this.$createElement;return(this._self._c||t)("Settings")},staticRenderFns:[]};var jt=n("VU/8")(Lt,Dt,!1,function(t){n("aW8i")},"data-v-4fbe5719",null).exports,Bt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{attrs:{color:"#385F73",dark:""}},[e("v-card-title",{staticClass:"headline"},[this._v("\n              Unlimited music now\n            ")]),this._v(" "),e("v-card-subtitle",[this._v("Listen to your favorite artists and albums whenever and wherever, online and offline.")]),this._v(" "),e("v-card-actions",[e("v-btn",{attrs:{text:""}},[this._v("\n                Listen Now\n              ")])],1)],1)},staticRenderFns:[]};var Mt=n("VU/8")({name:"Info",props:["items"],data:function(){return{}},computed:{},methods:{},components:{}},Bt,!1,function(t){n("fq2A")},"data-v-d8344556",null).exports,zt={name:"WorkerInfo",props:["options"],data:function(){return{$echarts:null,historyJSON:"{}",xAxisData:[]}},computed:d()({},Object(m.d)("app",["mainApp"]),{updateChartComputed:function(){var t=this.options.items?M()(this.options.items):"{}";this.$echarts&&t!=this.historyJSON&&(this.historyJSON=t,this.$echarts.setOption(this.chartsOption))},seriesData:function(){var t=[],e=[],n={itemStyle:{shadowBlur:1,shadowColor:"rgba(0,0,0,0.3)"}},a=this.options.items.worker;if(this.options.items){e=a.map(function(t){return t.name});var i=[];t=a.map(function(t,e){var a=[];return a[e]=t.count,i.push(t.maxConcurrent),{name:pt(t.name),type:"bar",smooth:!0,stack:"1",emphasis:n,data:a,barGap:"-100%",zlevel:1}}),t.push({name:"Max",type:"bar",darkMode:!0,smooth:!0,stack:"0",emphasis:n,data:i,label:{normal:{show:!0,position:"top",textStyle:{color:"#fff"},formatter:function(t){return t.value}}},itemStyle:{color:"#bbbbbb55"},zlevel:0,barGap:"-100%"})}return this.xAxisData=e,t},chartsOption:function(){return{tooltip:{},xAxis:{data:this.xAxisData,axisLabel:{interval:0,rotate:35,color:"#fff"},name:"",axisLine:{onZero:!0,lineStyle:{color:"#fff"}},splitLine:{show:!1},splitArea:{show:!1}},yAxis:{axisLabel:{interval:0,color:"#fff"},name:"线程数",axisLine:{onZero:!0,lineStyle:{color:"#fff"}},splitLine:{show:!1},splitArea:{show:!1},minInterval:1},series:this.seriesData}}}),watch:{mainApp:function(){this.$echarts&&this.$echarts.resize()}},mounted:function(){var t=document.getElementById("worker-info-container-"+this.options.name),e=z.a(t);this.$echarts=e,e.clear(),e.setOption(this.chartsOption)}},Pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"worker-info-chart",attrs:{id:"worker-info-container-"+this.options.name,updateChart:!this.updateChartComputed}})},staticRenderFns:[]};var Kt={name:"Information",components:{AppInfo:Mt,WorkerInfo:n("VU/8")(zt,Pt,!1,function(t){n("vb/h")},"data-v-30b8d04e",null).exports},computed:d()({},Object(m.d)("app",["mainApp"]),Object(m.d)("information",["appStates"]),{items:function(){return this.appStates.map(function(t){return{name:t.name,color:0==t.code?"#385F73":"red darken-3",msg:t.msg,items:t.data,gateway:t.gateway}})}}),methods:d()({},Object(m.b)("information",["getAppState"]),{capitalize:pt}),mounted:function(){}},Xt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"information-container"},t._l(t.items,function(e,a){return n("v-row",{key:e.name,attrs:{"no-gutters":""}},[n("v-card",{staticClass:"app-info",attrs:{color:e.color}},[n("v-row",[n("v-col",[n("v-card-title",{staticClass:"headline"},[t._v("\n              "+t._s(t.capitalize(e.name))+"\n            ")]),t._v(" "),n("v-card-subtitle",[t._v("\n              "+t._s(e.gateway)+"\n            ")])],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{outlined:"",rounded:"",text:"",disabled:""}},[t._v("\n              Reload\n            ")])],1)],1),t._v(" "),n("v-col",{style:{width:t.mainApp.width}},[n("WorkerInfo",{attrs:{options:e}})],1)],1)],1)}),1)},staticRenderFns:[]};var Gt=n("VU/8")(Kt,Xt,!1,function(t){n("PjBL")},"data-v-70ac2096",null).exports,Wt={name:"InformationPage",computed:d()({},Object(m.d)("app",["mainApp"])),methods:d()({},Object(m.b)("information",["startFetchAppInfoTimer","stopFetchAppInfoTimer"])),components:{Information:Gt},mounted:function(){this.startFetchAppInfoTimer()},destroyed:function(){this.stopFetchAppInfoTimer()}},Yt={render:function(){var t=this.$createElement;return(this._self._c||t)("Information")},staticRenderFns:[]};var Jt=n("VU/8")(Wt,Yt,!1,function(t){n("02Xv")},"data-v-46894fc1",null).exports,Ht={name:"TaskTool",props:["dialogOptions"],data:function(){return{continuesBtn:{disabled:!0},pauseBtn:{disabled:!0}}},computed:d()({},Object(m.c)("task",["selectedTasks","isAllSelect","isEmptySelect"]),{continuesButton:function(){return{disabled:0==C()(this.selectedTasks).length}},pauseButton:function(){return{disabled:0==C()(this.selectedTasks).length}}}),methods:d()({},Object(m.b)("task",["postStopTasks","clearTaskSelect","selectAllTask"]),{stopSelectedTask:function(){var t=this;return A()(T.a.mark(function e(){var n,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=C()(t.selectedTasks).map(function(t){return{key:t}}),e.next=3,t.postStopTasks(n);case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}},e,t)}))()}})},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tool-box"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.dialogOptions.show=!0}}},[n("v-icon",[t._v("mdi-plus")]),t._v("\n      新建\n    ")],1),t._v(" "),n("div",{staticClass:"tool-control"},[n("v-btn",{attrs:{text:"",disabled:t.continuesButton.disabled}},[n("v-icon",[t._v("mdi-play")])],1),t._v(" "),n("v-btn",{attrs:{text:"",disabled:t.pauseButton.disabled},on:{click:function(e){return t.stopSelectedTask()}}},[n("v-icon",[t._v("mdi-pause")])],1),t._v(" "),n("v-btn",{attrs:{text:"",disabled:t.isAllSelect},on:{click:function(e){return t.selectAllTask()}}},[n("v-icon",[t._v("mdi-select-all")])],1),t._v(" "),n("v-btn",{attrs:{text:"",disabled:t.isEmptySelect},on:{click:function(e){return t.clearTaskSelect()}}},[n("v-icon",[t._v("mdi-select")])],1)],1)],1)},staticRenderFns:[]};var Qt=n("VU/8")(Ht,qt,!1,function(t){n("kGSD")},"data-v-e45c64d2",null).exports,Zt=n("c/Tr"),te=n.n(Zt),ee=n("lHA8"),ne=n.n(ee),ae={name:"Combobox",props:["options"],data:function(){return{model:[],trimItem:!0,items:[]}},methods:{onClickH:function(){console.log(this.model),console.log(this.items)},getPreview:function(){}},watch:{model:function(t,e){if(t.length!==e.length){this.trimItem&&(t=t.map(function(t){return t.trim()}));var n=new ne.a(t);if(t.length!=n.size)return t=te()(n.values()),void(this.model=t);var a=new ne.a(e),i=n.size>a.size?[t,a]:[e,n],s=at()(i,2),r=s[0],o=s[1],c=r.filter(function(t){return!o.has(t)});if(t.length>e.length){var l=!0,u=!1,d=void 0;try{for(var m,f=F()(c);!(l=(m=f.next()).done);l=!0){var v=m.value;this.items.push({text:v,model:"B"})}}catch(t){u=!0,d=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw d}}}else this.items=this.items.filter(function(t){return-1==c.indexOf(t.text)})}}},mounted:function(){var t=this;this.$el.getElementsByClassName("v-select__selections")[0].getElementsByTagName("input")[0].addEventListener("paste",function(e){var n=e.clipboardData.getData("text").split("\n");if(t.trimItem&&(n=n.map(function(t){return t.trim()})),console.log(t.trimItem,n),!((n=n.filter(function(t){return""!==t})).length<=1)){var a=n.filter(function(e){return-1==t.model.indexOf(e)});a&&(t.model=t.model.concat(a)),e.preventDefault()}})}},ie={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-combobox",{attrs:{label:t.options.label,multiple:"",clearable:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.attrs,i=e.index,s=e.item,r=e.parent,o=e.selected;return[n("v-chip",t._b({attrs:{"input-value":o,label:""}},"v-chip",a,!1),[n("v-avatar",{staticClass:"accent white--text",attrs:{left:""},domProps:{textContent:t._s(i)}}),t._v(" "),n("span",[t._v("\r\n            "+t._s(t.items[i].text)+"\r\n          ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(t){return r.selectItem(s)}}},[t._v("\r\n            mdi-close-circle\r\n          ")])],1)]}}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)},staticRenderFns:[]};var se=n("VU/8")(ae,ie,!1,function(t){n("Kupj")},"data-v-3fc8e602",null).exports,re={name:"AddNewDialog",props:["options"],computed:{},methods:d()({},Object(m.b)("task",["postNewTasks"]),{submitTasks:function(){var t=this;return A()(T.a.mark(function e(){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$refs.combobox.items,e.next=3,t.postNewTasks(n);case 3:e.sent,t.options.show=!1,t.$refs.combobox.model=[];case 6:case"end":return e.stop()}},e,t)}))()}}),data:function(){return{comboboxOptions:{label:"URIs"},uriText:"",tab:null,items:[{name:"任务链接"},{name:"配置选项"}],preload:!1}},components:{Combobox:se}},oe={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"700"},model:{value:t.options.show,callback:function(e){t.$set(t.options,"show",e)},expression:"options.show"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n        新建任务\n      ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-tabs",{attrs:{dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"yellow"}}),t._v(" "),n("v-tab",{key:"uris"},[t._v("\n          任务链接\n        ")]),t._v(" "),n("v-tab",{key:"options"},[t._v("\n          配置选项\n        ")])],1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:"uris"},[n("v-card",{attrs:{flat:""}},[n("Combobox",{ref:"combobox",attrs:{options:t.comboboxOptions}})],1)],1),t._v(" "),n("v-tab-item",{key:"options"},[n("v-card",{attrs:{flat:""}},[n("p",[t._v("123")])])],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("div",{staticClass:"dialog-bottom"},[n("v-switch",{attrs:{label:"预加载",disabled:"",inset:""},model:{value:t.preload,callback:function(e){t.preload=e},expression:"preload"}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.options.show=!1}}},[t._v("\n          取消\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",width:"100"},on:{click:function(e){return t.submitTasks()}}},[t._v("\n          开始\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var ce={name:"TaskControl",data:function(){return{dialogOptions:{show:!1}}},methods:{},components:{AddNewDialog:n("VU/8")(re,oe,!1,function(t){n("0Hi7")},"data-v-93f1a92a",null).exports,TaskTool:Qt}},le={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-box"},[e("v-toolbar",{attrs:{dense:""}},[e("AddNewDialog",{attrs:{options:this.dialogOptions}}),this._v(" "),e("TaskTool",{attrs:{dialogOptions:this.dialogOptions}})],1)],1)},staticRenderFns:[]};var ue={name:"TaskNav",components:{TaskControl:n("VU/8")(ce,le,!1,function(t){n("KmZ0")},"data-v-f6f6c02e",null).exports}},de={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-app-bar",{attrs:{dense:"",dark:""}},[e("v-app-bar-nav-icon"),this._v(" "),e("TaskControl"),this._v(" "),e("v-spacer"),this._v(" "),e("v-btn",{attrs:{icon:""}},[e("v-icon",[this._v("mdi-magnify")])],1)],1)],1)},staticRenderFns:[]};var me=n("VU/8")(ue,de,!1,function(t){n("8pR9")},null,null).exports,fe={name:"TaskTool",props:["dialogOptions"],data:function(){return{modifiedIndex:0}},computed:d()({},Object(m.c)("settings",["diffConf"]),{diffConfList:function(){return this.modifiedIndex=0,this.diffConf}}),methods:d()({},Object(m.b)("settings",["scrollToConfItem","postConfModifies","getConf","calMainInView"]),Object(m.b)("app",["setAlertOption"]),{submitDiff:function(){var t=this;return A()(T.a.mark(function e(){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postConfModifies();case 2:return n=e.sent,n.code,n.data,n.msg,e.next=8,t.getConf();case 8:return e.next=10,t.calMainInView();case 10:case"end":return e.stop()}},e,t)}))()},nextDiff:function(){0==this.diffConfList.length?this.modifiedIndex=0:this.modifiedIndex+1<=this.diffConfList.length?this.modifiedIndex++:this.modifiedIndex=1;var t=this.diffConfList[this.modifiedIndex-1];void 0!=t&&this.scrollToConfItem(t.link.join("|"))},prevDiff:function(){this.modifiedIndex-1>0?this.modifiedIndex--:this.modifiedIndex=this.diffConfList.length;var t=this.diffConfList[this.modifiedIndex-1];void 0!=t&&this.scrollToConfItem(t.link.join("|"))}})},ve={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tool-box"},[n("v-btn",{attrs:{text:"",color:"green",disabled:0==t.diffConfList.length},on:{click:function(e){return t.submitDiff()}}},[n("v-icon",[t._v("mdi-playlist-check")]),t._v("\n    提交\n  ")],1),t._v(" "),n("v-card",[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.prevDiff()}}},[n("v-icon",[t._v("mdi-chevron-left ")])],1),t._v(" "),n("v-card-title",[t._v(t._s(t.modifiedIndex+"/"+t.diffConfList.length))]),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.nextDiff()}}},[n("v-icon",[t._v("mdi-chevron-right ")])],1)],1)],1)},staticRenderFns:[]};var pe={name:"SettingsControl",data:function(){return{}},methods:{},components:{SettingsTool:n("VU/8")(fe,ve,!1,function(t){n("api8")},"data-v-6e0b078f",null).exports}},he={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-box"},[e("v-toolbar",{attrs:{dense:""}},[e("SettingsTool",{attrs:{dialogOptions:this.dialogOptions}})],1)],1)},staticRenderFns:[]};var be={name:"SettingsNav",components:{SettingsControl:n("VU/8")(pe,he,!1,function(t){n("+zDr")},"data-v-50557e0c",null).exports}},ke={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-app-bar",{attrs:{dense:"",dark:""}},[e("v-app-bar-nav-icon"),this._v(" "),e("SettingsControl"),this._v(" "),e("v-spacer"),this._v(" "),e("v-btn",{attrs:{icon:""}},[e("v-icon",[this._v("mdi-magnify")])],1)],1)],1)},staticRenderFns:[]};var ge=n("VU/8")(be,ke,!1,function(t){n("YP/B")},null,null).exports,xe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-box"},[e("v-toolbar",{attrs:{dense:""}},[e("SettingsTool",{attrs:{dialogOptions:this.dialogOptions}})],1)],1)},staticRenderFns:[]};var we={name:"InformationNav",components:{InformationControl:n("VU/8")({name:"InformationControl",data:function(){return{}},methods:{},components:{}},xe,!1,function(t){n("9f6N")},"data-v-e33b988e",null).exports}},_e={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-app-bar",{attrs:{dense:"",dark:""}},[e("v-app-bar-nav-icon"),this._v(" "),e("InformationControl"),this._v(" "),e("v-spacer"),this._v(" "),e("v-btn",{attrs:{icon:""}},[e("v-icon",[this._v("mdi-magnify")])],1)],1)],1)},staticRenderFns:[]};var Te=[{path:"/",name:"index",components:{main:vt,nav:me}},{path:"/settings",name:"Settings",components:{main:jt,nav:ge}},{path:"/info",name:"info",components:{main:Jt,nav:n("VU/8")(we,_e,!1,function(t){n("KbU+")},null,null).exports}}];a.default.use(w.a);var ye=new w.a({routes:Te}),Ce=n("3EgV"),Ie=n.n(Ce);n("7zck");a.default.use(Ie.a);var Ae=new Ie.a({theme:{dark:!0}}),Se=n("mtWM"),Fe=n.n(Se);a.default.prototype.$axios=Fe.a;var Re,Oe=Fe.a,Ve={mainApp:{height:0,width:0},alertOptions:{show:!1,msg:"",color:"red",timeout:null}},Ne=(Re={},j()(Re,"mainAppResize",function(t,e){t.mainApp.height=e}),j()(Re,"setAlertOption",function(t,e){t.alertOptions=e,e.timeout&&setTimeout(function(){a.default.set(t.alertOptions,"show",!1)},e.timeout)}),Re);function Ee(){var t=document.getElementById("main-container"),e=document.getElementById("statusbar-container"),n=document.getElementById("siderbar-container");t&&e&&n&&(Ve.mainApp={height:innerHeight-e.offsetHeight-t.offsetTop,width:innerWidth-n.offsetWidth})}var Ue,$e,Le,De={state:Ve,getters:{},mutations:Ne,actions:{initAppModule:function(t){t.commit;window.addEventListener("resize",Ee),Ee()},destroyAppModule:function(t){t.commit;window.removeEventListener("resize",Ee)},setAlertOption:function(t,e){(0,t.commit)("setAlertOption",e)}}},je={getTaskList:function(t){var e=this,n=t.commit,a=t.state;return A()(T.a.mark(function t(){var i,s;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.get("/api/task/list",{params:{active:a.activeTask.key}});case 2:if(i=t.sent,0==(s=i.data).code){t.next=6;break}return t.abrupt("return");case 6:n("updateTaskItemData",s.data);case 7:case"end":return t.stop()}},t,e)}))()},postNewTasks:function(t,e){t.commit;var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return A()(T.a.mark(function t(){var i,s,r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={urls:e.map(function(t){return t.text}),options:a},t.next=3,Oe.post("/api/task/new",i);case 3:if(s=t.sent,0==(r=s.data).code){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}},t,n)}))()},postStopTasks:function(t,e){var n=this;t.commit;return A()(T.a.mark(function t(){var a,i,s;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={keys:e.map(function(t){return t.key})},t.next=3,Oe.post("/api/task/stop",a);case 3:if(i=t.sent,0==(s=i.data).code){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}},t,n)}))()},selectNodeItem:function(t,e){var n=t.commit;t.state;n("selectFlowNode",e)},startFetchTaskListTimer:function(t){var e=t.commit,n=t.state;null==n.fetchTimer&&e("setTaskFetchTimer",setTimeout(function t(){je.getTaskList({commit:e,state:n}).finally(function(){null!=n.fetchTimer&&(clearTimeout(n.fetchTimer),e("setTaskFetchTimer",setTimeout(t,1e3)))})},1))},stopFetchTaskListTimer:function(t){var e=t.commit;t.state;e("clearTaskFetchTimer")},setActiveTaskKey:function(t,e){(0,t.commit)("setActiveTask",e)},toggleSelectTask:function(t,e){var n=this,a=t.commit,i=t.state;return A()(T.a.mark(function t(){var s;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=void 0!=i.selectedTasks[e],a(s?"unselectTask":"selectTask",e),t.abrupt("return",!s);case 3:case"end":return t.stop()}},t,n)}))()},clearTaskSelect:function(t){var e=this,n=t.commit;return A()(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n("clearTaskSelect");case 1:case"end":return t.stop()}},t,e)}))()},selectAllTask:function(t){var e=this,n=t.commit;return A()(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n("selectAllTask");case 1:case"end":return t.stop()}},t,e)}))()}},Be={state:{taskRawItems:[],fetchTimer:null,activeTask:{key:"",node:""},selectedTasks:{}},getters:{taskRawItems:function(t){return t.taskRawItems},activeTaskRawItem:function(t){var e=t.activeTask.key,n=!0,a=!1,i=void 0;try{for(var s,r=F()(t.taskRawItems);!(n=(s=r.next()).done);n=!0){var o=s.value;if(o.sign==e)return o}}catch(t){a=!0,i=t}finally{try{!n&&r.return&&r.return()}finally{if(a)throw i}}return null},activeTaskKey:function(t){return t.activeTask.key},activeTaskNode:function(t){return t.activeTask.node},activeTask:function(t,e){return d()({},t.activeTask,{rawItem:e.activeTaskRawItem})},selectedTasks:function(t){return t.selectedTasks},isAllSelect:function(t){return C()(t.selectedTasks).length==t.taskRawItems.length},isEmptySelect:function(t){return 0==C()(t.selectedTasks).length}},mutations:(Ue={},j()(Ue,"updateTaskItemData",function(t,e){t.taskRawItems=e}),j()(Ue,"setActiveTask",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.activeTask.key=e}),j()(Ue,"selectFlowNode",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.activeTask.node=e}),j()(Ue,"selectTask",function(t,e){a.default.set(t.selectedTasks,e,{})}),j()(Ue,"unselectTask",function(t,e){a.default.delete(t.selectedTasks,e)}),j()(Ue,"clearTaskSelect",function(t){t.selectedTasks={}}),j()(Ue,"selectAllTask",function(t){t.selectedTasks={};var e=!0,n=!1,i=void 0;try{for(var s,r=F()(t.taskRawItems);!(e=(s=r.next()).done);e=!0){var o=s.value;a.default.set(t.selectedTasks,o.sign,{})}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}),j()(Ue,"setTaskFetchTimer",function(t,e){t.fetchTimer=e}),j()(Ue,"clearTaskFetchTimer",function(t){clearTimeout(t.fetchTimer),t.fetchTimer=null}),Ue),actions:je},Me={getConf:function(t){var e=this,n=t.commit;t.state;return A()(T.a.mark(function t(){var a,i;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.get("/api/conf/query");case 2:if(a=t.sent,0==(i=a.data).code){t.next=6;break}return t.abrupt("return");case 6:return n("fetchConfigure",i.data),t.abrupt("return",i);case 8:case"end":return t.stop()}},t,e)}))()},postConfModifies:function(t){var e=this,n=(t.commit,t.state,t.getters);return A()(T.a.mark(function t(){var a,i,s,r;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(a=n.diffConf).length){t.next=3;break}return t.abrupt("return");case 3:return i={items:a},t.next=6,Oe.post("/api/conf/modify",i);case 6:if(s=t.sent,0==(r=s.data).code){t.next=10;break}return t.abrupt("return");case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}},t,e)}))()},enterView:function(t,e){var n=this,a=t.commit;return A()(T.a.mark(function t(){var i;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=document.getElementById(e),a("confItemEnterView",{itemId:e,dom:i});case 2:case"end":return t.stop()}},t,n)}))()},leaveView:function(t,e){var n=this,a=t.commit;return A()(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("confItemLeaveView",e);case 1:case"end":return t.stop()}},t,n)}))()},setActiveConfItem:function(t,e){var n=this,i=t.commit,s=t.state;return A()(T.a.mark(function t(){var r,o,c,l,u,d,m,f,v;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i("setActiveConfItem",e),r=e.split("|"),o=at()(r,2),c=o[0],o[1],l=!0,u=!1,d=void 0,t.prev=5,m=F()(s.bindConf);!(l=(f=m.next()).done);l=!0)(v=f.value).name==c?a.default.set(v,"opened",!0):a.default.set(v,"opened",!1);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),u=!0,d=t.t0;case 13:t.prev=13,t.prev=14,!l&&m.return&&m.return();case 16:if(t.prev=16,!u){t.next=19;break}throw d;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}},t,n,[[5,9,13,21],[14,,16,20]])}))()},calMainInView:function(t){var e=this,n=t.commit,a=t.state;return A()(T.a.mark(function t(){var i,s,r,o,c,l;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,void 0==(s=a.inViewItems[a.activeItemId])){t.next=7;break}if(!((r=s.getBoundingClientRect()).y<=130&&r.bottom>=100)){t.next=7;break}return Me.setActiveConfItem({commit:n,state:a},a.activeItemId),t.abrupt("return");case 7:t.t0=T.a.keys(a.inViewItems);case 8:if((t.t1=t.t0()).done){t.next=18;break}if(o=t.t1.value,c=a.inViewItems[o],!((l=c.getBoundingClientRect()).y>=80&&l.y<=150)){t.next=15;break}return Me.setActiveConfItem({commit:n,state:a},o),t.abrupt("return");case 15:(null==i||l.y<i.y)&&(i={id:o,y:l.y}),t.next=8;break;case 18:null!=i&&Me.setActiveConfItem({commit:n,state:a},i.id);case 19:case"end":return t.stop()}},t,e)}))()},confRollback:function(t,e){var n=this,a=t.commit;return A()(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("confRollback",e);case 1:case"end":return t.stop()}},t,n)}))()},scrollToConfItem:function(t,e){var n=this,a=(t.commit,t.state);return A()(T.a.mark(function t(){var i,s;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"number"==typeof e&&void 0!=(i=a.bindConf[e].groups[0])&&(e=[a.bindConf[e].name,i.name].join("|")),(s=document.getElementById(e))&&s.scrollIntoView({behavior:"smooth"});case 3:case"end":return t.stop()}},t,n)}))()},clearConfData:function(t){var e=this,n=t.commit;return A()(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n("clearConfData");case 1:case"end":return t.stop()}},t,e)}))()}},ze={state:{copyConf:[],bindConf:[],inViewItems:[],activeItemId:null},getters:{diffConf:function(t){var e=[];for(var n in t.bindConf){var i=t.bindConf[n],s=t.copyConf[n];for(var r in s.groups){var o=i.groups[r],c=s.groups[r];for(var l in c.items){var u=o.items[l],d=c.items[l];M()(u.value)!=M()(d.value)?(e.push({link:[i.name,o.name,u.name],newVal:u.value,oldVal:d.value}),a.default.set(u,"modified",!0)):a.default.set(u,"modified",!1)}}}return e}},mutations:($e={},j()($e,"fetchConfigure",function(t,e){t.copyConf=e,t.bindConf=ht(e)}),j()($e,"confItemEnterView",function(t,e){var n=e.itemId,a=e.dom;t.inViewItems[n]=a}),j()($e,"confItemLeaveView",function(t,e){t.inViewItems[e]&&delete t.inViewItems[e]}),j()($e,"setActiveConfItem",function(t,e){console.log("!!!!",e),t.activeItemId=e}),j()($e,"confRollback",function(t,e){var n=e.split("|"),a=at()(n,2),i=a[0],s=a[1];for(var r in t.bindConf){var o=t.bindConf[r];if(o.name==i)for(var c in o.groups){var l=o.groups[c];if(l.name==s)return void(l.items=ht(t.copyConf[r].groups[c].items))}}}),j()($e,"clearConfData",function(t){t.bindConf=[],t.copyConf=[]}),$e),actions:Me},Pe={getAppState:function(t){var e=this,n=t.commit;return A()(T.a.mark(function t(){var a,i;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.get("/api/system/state");case 2:if(a=t.sent,0==(i=a.data).code){t.next=6;break}return t.abrupt("return");case 6:return n("getAppState",i.data),t.abrupt("return",i);case 8:case"end":return t.stop()}},t,e)}))()},startFetchAppInfoTimer:function(t){var e=t.commit,n=t.state;null==n.fetchTimer&&e("setInfoFetchTimer",setTimeout(function t(){Pe.getAppState({commit:e,state:n}).finally(function(){null!=n.fetchTimer&&(clearTimeout(n.fetchTimer),e("setInfoFetchTimer",setTimeout(t,1500)))})},1))},stopFetchAppInfoTimer:function(t){var e=t.commit;t.state;e("clearTaskFetchTimer")}},Ke={state:{appStates:[],fetchTimer:null},getters:{},mutations:(Le={},j()(Le,"getAppState",function(t,e){t.appStates=e}),j()(Le,"setInfoFetchTimer",function(t,e){t.fetchTimer=e}),j()(Le,"clearTaskFetchTimer",function(t){clearTimeout(t.fetchTimer),t.fetchTimer=null}),Le),actions:Pe},Xe=n("UjVw"),Ge=n("mUbh"),We={app:d()({namespaced:!0},De),task:d()({namespaced:!0},Be),settings:d()({namespaced:!0},ze),information:d()({namespaced:!0},Ke)};a.default.use(m.a);var Ye=new m.a.Store({actions:Ge,getters:Xe,modules:d()({},We)}),Je=n("R0ti"),He=n.n(Je);a.default.use(He.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:ye,store:Ye,vuetify:Ae,components:{App:x},template:"<App/>"})},"PC+X":function(t,e){},PVwW:function(t,e){},PjBL:function(t,e){},RzLb:function(t,e){},"U6+6":function(t,e){},UQ97:function(t,e){},UXKE:function(t,e){},UjVw:function(t,e){},"YP/B":function(t,e){},ZRRn:function(t,e){},aW8i:function(t,e){},api8:function(t,e){},cOaG:function(t,e){},fq2A:function(t,e){},gzX3:function(t,e){},hnm5:function(t,e){},"jb+d":function(t,e){},kGSD:function(t,e){},kyqG:function(t,e){},lU44:function(t,e){},mUbh:function(t,e){},meXA:function(t,e){},oEpN:function(t,e){},rhKU:function(t,e){},"vb/h":function(t,e){},yMLD:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.006ffb87c9d6e1d51cdb.js.map